{"ast":null,"code":"const tokenKey = \"token\";\nexport async function login(username, password) {\n  // hard coded here!!!     \n  if (username === \"admin\" && password === \"password\") {\n    const jwt = \"hardcoded_mockJWT\";\n    localStorage.setItem(tokenKey, jwt); // fabricate this...!\n\n    if (jwt === \"hardcoded_mockJWT\") {\n      return {\n        data: {\n          username: \"admin\",\n          password: \"password\"\n        }\n      };\n    }\n  }\n\n  username = \"\";\n  passowrd = \"\";\n  return null;\n}\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\nexport function getJwt() {\n  return localStorage.getItem(tokenKey);\n}\nexport function getCurentUser() {\n  try {\n    const jwt = localStorage.getItem(tokenKey); // fabricate this...!\n\n    if (jwt === \"hardcoded_mockJWT\") {\n      return {\n        data: {\n          username: \"admin\",\n          password: \"password\"\n        }\n      };\n    }\n  } catch (e) {\n    // return null means there is no current user\n    return null;\n  }\n}\nexport async function loginWithJwt(jwt) {\n  localStorage.setItem(tokenKey, jwt);\n}\nexport default {\n  login,\n  logout,\n  getCurentUser,\n  loginWithJwt,\n  getJwt\n};","map":{"version":3,"sources":["/Users/paulbickell/Documents/React/react-dtt-demo-app/src/services/authService.js"],"names":["tokenKey","login","username","password","jwt","localStorage","setItem","data","passowrd","logout","removeItem","getJwt","getItem","getCurentUser","e","loginWithJwt"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,OAAjB;AAEA,OAAO,eAAeC,KAAf,CAAqBC,QAArB,EAA+BC,QAA/B,EAAyC;AAChD;AACI,MAAID,QAAQ,KAAK,OAAb,IAAwBC,QAAQ,KAAK,UAAzC,EAAqD;AACjD,UAAMC,GAAG,GAAG,mBAAZ;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqBN,QAArB,EAA+BI,GAA/B,EAFiD,CAGjD;;AACA,QAAIA,GAAG,KAAK,mBAAZ,EAAiC;AAC7B,aAAO;AAACG,QAAAA,IAAI,EAAE;AAAEL,UAAAA,QAAQ,EAAE,OAAZ;AAAqBC,UAAAA,QAAQ,EAAE;AAA/B;AAAP,OAAP;AACH;AACJ;;AAEDD,EAAAA,QAAQ,GAAG,EAAX;AACAM,EAAAA,QAAQ,GAAG,EAAX;AAEA,SAAO,IAAP;AACH;AAED,OAAO,SAASC,MAAT,GAAkB;AACvBJ,EAAAA,YAAY,CAACK,UAAb,CAAwBV,QAAxB;AACD;AAED,OAAO,SAASW,MAAT,GAAkB;AACvB,SAAON,YAAY,CAACO,OAAb,CAAqBZ,QAArB,CAAP;AACD;AAED,OAAO,SAASa,aAAT,GAAyB;AAC5B,MAAI;AACA,UAAMT,GAAG,GAAGC,YAAY,CAACO,OAAb,CAAqBZ,QAArB,CAAZ,CADA,CAGA;;AACA,QAAII,GAAG,KAAK,mBAAZ,EAAiC;AAC7B,aAAO;AAACG,QAAAA,IAAI,EAAE;AAAEL,UAAAA,QAAQ,EAAE,OAAZ;AAAqBC,UAAAA,QAAQ,EAAE;AAA/B;AAAP,OAAP;AACH;AACJ,GAPD,CAOE,OAAOW,CAAP,EAAU;AACR;AACA,WAAO,IAAP;AACH;AACJ;AAED,OAAO,eAAeC,YAAf,CAA4BX,GAA5B,EAAiC;AACpCC,EAAAA,YAAY,CAACC,OAAb,CAAqBN,QAArB,EAA+BI,GAA/B;AACH;AAED,eAAe;AACbH,EAAAA,KADa;AAEbQ,EAAAA,MAFa;AAGbI,EAAAA,aAHa;AAIbE,EAAAA,YAJa;AAKbJ,EAAAA;AALa,CAAf","sourcesContent":["const tokenKey = \"token\";\n\nexport async function login(username, password) {\n// hard coded here!!!     \n    if (username === \"admin\" && password === \"password\") {\n        const jwt = \"hardcoded_mockJWT\";\n        localStorage.setItem(tokenKey, jwt); \n        // fabricate this...!\n        if (jwt === \"hardcoded_mockJWT\") {\n            return {data: { username: \"admin\", password: \"password\"}};\n        }\n    }\n\n    username = \"\";\n    passowrd = \"\";\n\n    return null;\n}\n\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\n\nexport function getJwt() {\n  return localStorage.getItem(tokenKey);\n}\n\nexport function getCurentUser() {\n    try {\n        const jwt = localStorage.getItem(tokenKey);\n        \n        // fabricate this...!\n        if (jwt === \"hardcoded_mockJWT\") {\n            return {data: { username: \"admin\", password: \"password\"}};\n        }\n    } catch (e) {\n        // return null means there is no current user\n        return null;\n    }\n}\n\nexport async function loginWithJwt(jwt) {\n    localStorage.setItem(tokenKey, jwt);  \n}\n\nexport default {\n  login,\n  logout,\n  getCurentUser,\n  loginWithJwt,\n  getJwt\n};\n\n\n    \n    \n  "]},"metadata":{},"sourceType":"module"}