{"ast":null,"code":"import _defineProperty from \"/Users/paulbickell/Documents/React/react-dtt-demo-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/paulbickell/Documents/React/react-dtt-demo-app/src/components/login.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport Joi from \"joi\";\nimport Form from \"../common/form\";\n\nclass LoginForm extends Form {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {\n        username: \"\",\n        password: \"\"\n      },\n      errors: {}\n    };\n    this.schema = {\n      username: Joi.string().required().label(\"Username\"),\n      password: Joi.string().required().label(\"Password\")\n    };\n\n    this.doSubmit = async () => {\n      try {\n        const state = this.props.location.state;\n        window.location = state ? state.from.pathname : \"/\";\n      } catch (e) {\n        if (e.response && e.response.status === 400) {\n          const errors = _objectSpread({}, this.state.errors); // put the error against the username field only\n\n\n          errors.username = e.response.data;\n          this.setState({\n            errors\n          });\n        }\n      }\n    };\n  }\n\n  manageComboChange(comboId) {// no change to handle\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"main-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"page-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Search Product Metadata\")), React.createElement(\"div\", {\n      className: \"external-data-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"sub-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Login\")), this.renderInput(\"username\", \"Username\", true, \"700px\"), this.renderInput(\"password\", \"Password\", true, \"700px\"), React.createElement(\"div\", {\n      className: \"btn-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, this.renderButton(\"Login\", \"btn btn-primary m-2\"), React.createElement(\"button\", {\n      id: \"reset-btn\",\n      type: \"button\",\n      className: \"btn btn-warning m-2\",\n      onClick: this.doReset,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Reset\"))))));\n  }\n\n}\n\nexport default LoginForm;","map":{"version":3,"sources":["/Users/paulbickell/Documents/React/react-dtt-demo-app/src/components/login.jsx"],"names":["React","Joi","Form","LoginForm","state","data","username","password","errors","schema","string","required","label","doSubmit","props","location","window","from","pathname","e","response","status","setState","manageComboChange","comboId","render","handleSubmit","renderInput","renderButton","doReset"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,gBAAjB;;AAEA,MAAMC,SAAN,SAAwBD,IAAxB,CAA6B;AAAA;AAAA;AAAA,SAC3BE,KAD2B,GACnB;AACNC,MAAAA,IAAI,EAAE;AAAEC,QAAAA,QAAQ,EAAE,EAAZ;AAAgBC,QAAAA,QAAQ,EAAE;AAA1B,OADA;AAENC,MAAAA,MAAM,EAAE;AAFF,KADmB;AAAA,SAM3BC,MAN2B,GAMlB;AACPH,MAAAA,QAAQ,EAAEL,GAAG,CAACS,MAAJ,GACPC,QADO,GAEPC,KAFO,CAED,UAFC,CADH;AAIPL,MAAAA,QAAQ,EAAEN,GAAG,CAACS,MAAJ,GACPC,QADO,GAEPC,KAFO,CAED,UAFC;AAJH,KANkB;;AAAA,SAe3BC,QAf2B,GAehB,YAAY;AACrB,UAAI;AAAA,cACMT,KADN,GACgB,KAAKU,KAAL,CAAWC,QAD3B,CACMX,KADN;AAEFY,QAAAA,MAAM,CAACD,QAAP,GAAkBX,KAAK,GAAGA,KAAK,CAACa,IAAN,CAAWC,QAAd,GAAyB,GAAhD;AACD,OAHD,CAGE,OAAOC,CAAP,EAAU;AACV,YAAIA,CAAC,CAACC,QAAF,IAAcD,CAAC,CAACC,QAAF,CAAWC,MAAX,KAAsB,GAAxC,EAA6C;AAC3C,gBAAMb,MAAM,qBAAQ,KAAKJ,KAAL,CAAWI,MAAnB,CAAZ,CAD2C,CAG3C;;;AACAA,UAAAA,MAAM,CAACF,QAAP,GAAkBa,CAAC,CAACC,QAAF,CAAWf,IAA7B;AACA,eAAKiB,QAAL,CAAc;AAAEd,YAAAA;AAAF,WAAd;AACD;AACF;AACF,KA5B0B;AAAA;;AA8B3Be,EAAAA,iBAAiB,CAACC,OAAD,EAAU,CACzB;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,WAEE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,QAAQ,EAAE,KAAKC,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADF,CADF,EAKE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,CADF,EAKG,KAAKC,WAAL,CAAiB,UAAjB,EAA6B,UAA7B,EAAyC,IAAzC,EAA+C,OAA/C,CALH,EAMG,KAAKA,WAAL,CAAiB,UAAjB,EAA6B,UAA7B,EAAyC,IAAzC,EAA+C,OAA/C,CANH,EAQE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKC,YAAL,CAAkB,OAAlB,EAA2B,qBAA3B,CADL,EAEI;AAAQ,MAAA,EAAE,EAAC,WAAX;AAAuB,MAAA,IAAI,EAAC,QAA5B;AAAqC,MAAA,SAAS,EAAC,qBAA/C;AAAqE,MAAA,OAAO,EAAE,KAAKC,OAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFJ,CARF,CALF,CADF,CADJ,CAFF;AA2BD;;AA9D0B;;AAiE7B,eAAe1B,SAAf","sourcesContent":["import React from \"react\";\nimport Joi from \"joi\";\nimport Form from \"../common/form\";\n\nclass LoginForm extends Form {\n  state = {\n    data: { username: \"\", password: \"\" },\n    errors: {}\n  };\n\n  schema = {\n    username: Joi.string()\n      .required()\n      .label(\"Username\"), \n    password: Joi.string()\n      .required()\n      .label(\"Password\")\n  };\n\n  doSubmit = async () => {\n    try {\n      const { state } = this.props.location;\n      window.location = state ? state.from.pathname : \"/\";\n    } catch (e) {\n      if (e.response && e.response.status === 400) {\n        const errors = { ...this.state.errors };\n        \n        // put the error against the username field only\n        errors.username = e.response.data; \n        this.setState({ errors });\n      }\n    }\n  };\n\n  manageComboChange(comboId) {\n    // no change to handle\n  }\n\n  render() {\n    return (\n\n      <React.Fragment>\n          <div className=\"main-content\">\n            <form onSubmit={this.handleSubmit} >\n              <div className=\"page-title\">\n                <h1>Search Product Metadata</h1>\n              </div>\n\n              <div className=\"external-data-box\">\n                <div className=\"sub-title\">\n                    <h4>Login</h4>\n                </div>\n                \n                {this.renderInput(\"username\", \"Username\", true, \"700px\")}\n                {this.renderInput(\"password\", \"Password\", true, \"700px\")}\n\n                <div className=\"btn-group\">\n                    {this.renderButton(\"Login\", \"btn btn-primary m-2\")}\n                    <button id=\"reset-btn\" type=\"button\" className=\"btn btn-warning m-2\" onClick={this.doReset}>Reset</button>\n                </div>\n                \n              </div>\n            </form>  \n          </div>  \n      </React.Fragment>\n    );\n  }\n}\n\nexport default LoginForm;\n\n"]},"metadata":{},"sourceType":"module"}