{"ast":null,"code":"const tokenKey = \"token\";\nexport async function login(username, password) {\n  // hard coded here!!!     \n  // if (username === \"admin\" && password === \"password\") {\n  //     const jwt = \"hardcoded_mockJWT\";\n  //     localStorage.setItem(tokenKey, jwt); \n  //     // fabricate this...!\n  //     if (jwt === \"hardcoded_mockJWT\") {\n  //         return {data: { username: \"admin\", password: \"password\"}};\n  //     }\n  // }\n  console.log(\"resetting form as login has failed...\");\n  username = \"\";\n  password = \"\";\n  return null;\n}\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\nexport function getJwt() {\n  return localStorage.getItem(tokenKey);\n}\nexport function getCurentUser() {\n  try {\n    const jwt = localStorage.getItem(tokenKey); // fabricate this...!\n\n    if (jwt === \"hardcoded_mockJWT\") {\n      return {\n        data: {\n          username: \"admin\",\n          password: \"password\"\n        }\n      };\n    }\n  } catch (e) {\n    // return null means there is no current user\n    return null;\n  }\n}\nexport async function loginWithJwt(jwt) {\n  localStorage.setItem(tokenKey, jwt);\n}\nexport default {\n  login,\n  logout,\n  getCurentUser,\n  loginWithJwt,\n  getJwt\n};","map":{"version":3,"sources":["/Users/paulbickell/Documents/React/react-dtt-demo-app/src/services/authService.js"],"names":["tokenKey","login","username","password","console","log","logout","localStorage","removeItem","getJwt","getItem","getCurentUser","jwt","data","e","loginWithJwt","setItem"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,OAAjB;AAEA,OAAO,eAAeC,KAAf,CAAqBC,QAArB,EAA+BC,QAA/B,EAAyC;AAChD;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAY,uCAAZ;AACAH,EAAAA,QAAQ,GAAG,EAAX;AACAC,EAAAA,QAAQ,GAAG,EAAX;AAEA,SAAO,IAAP;AACH;AAED,OAAO,SAASG,MAAT,GAAkB;AACvBC,EAAAA,YAAY,CAACC,UAAb,CAAwBR,QAAxB;AACD;AAED,OAAO,SAASS,MAAT,GAAkB;AACvB,SAAOF,YAAY,CAACG,OAAb,CAAqBV,QAArB,CAAP;AACD;AAED,OAAO,SAASW,aAAT,GAAyB;AAC5B,MAAI;AACA,UAAMC,GAAG,GAAGL,YAAY,CAACG,OAAb,CAAqBV,QAArB,CAAZ,CADA,CAGA;;AACA,QAAIY,GAAG,KAAK,mBAAZ,EAAiC;AAC7B,aAAO;AAACC,QAAAA,IAAI,EAAE;AAAEX,UAAAA,QAAQ,EAAE,OAAZ;AAAqBC,UAAAA,QAAQ,EAAE;AAA/B;AAAP,OAAP;AACH;AACJ,GAPD,CAOE,OAAOW,CAAP,EAAU;AACR;AACA,WAAO,IAAP;AACH;AACJ;AAED,OAAO,eAAeC,YAAf,CAA4BH,GAA5B,EAAiC;AACpCL,EAAAA,YAAY,CAACS,OAAb,CAAqBhB,QAArB,EAA+BY,GAA/B;AACH;AAED,eAAe;AACbX,EAAAA,KADa;AAEbK,EAAAA,MAFa;AAGbK,EAAAA,aAHa;AAIbI,EAAAA,YAJa;AAKbN,EAAAA;AALa,CAAf","sourcesContent":["const tokenKey = \"token\";\n\nexport async function login(username, password) {\n// hard coded here!!!     \n    // if (username === \"admin\" && password === \"password\") {\n    //     const jwt = \"hardcoded_mockJWT\";\n    //     localStorage.setItem(tokenKey, jwt); \n    //     // fabricate this...!\n    //     if (jwt === \"hardcoded_mockJWT\") {\n    //         return {data: { username: \"admin\", password: \"password\"}};\n    //     }\n    // }\n\n    console.log(\"resetting form as login has failed...\");\n    username = \"\";\n    password = \"\";\n\n    return null;\n}\n\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\n\nexport function getJwt() {\n  return localStorage.getItem(tokenKey);\n}\n\nexport function getCurentUser() {\n    try {\n        const jwt = localStorage.getItem(tokenKey);\n        \n        // fabricate this...!\n        if (jwt === \"hardcoded_mockJWT\") {\n            return {data: { username: \"admin\", password: \"password\"}};\n        }\n    } catch (e) {\n        // return null means there is no current user\n        return null;\n    }\n}\n\nexport async function loginWithJwt(jwt) {\n    localStorage.setItem(tokenKey, jwt);  \n}\n\nexport default {\n  login,\n  logout,\n  getCurentUser,\n  loginWithJwt,\n  getJwt\n};\n\n\n    \n    \n  "]},"metadata":{},"sourceType":"module"}