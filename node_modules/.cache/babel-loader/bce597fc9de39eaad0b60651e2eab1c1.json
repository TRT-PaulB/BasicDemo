{"ast":null,"code":"const tokenKey = \"token\";\nexport async function login(username, password) {\n  // hard coded here!!!     \n  console.log(\"is the auth servicde called at all\");\n\n  if (username === \"admin\" && password === \"password\") {\n    const jwt = \"hardcoded_mockJWT\";\n    localStorage.setItem(tokenKey, jwt); // fabricate this...!\n\n    if (jwt === \"hardcoded_mockJWT\") {\n      return {\n        data: {\n          username: \"admin\",\n          password: \"password\"\n        }\n      };\n    }\n  }\n\n  console.log(\"resetting form as login has failed...\");\n  username = \"\";\n  password = \"\";\n  return null;\n}\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\nexport function getJwt() {\n  return localStorage.getItem(tokenKey);\n}\nexport function getCurentUser() {\n  try {\n    const jwt = localStorage.getItem(tokenKey); // fabricate this...!\n\n    if (jwt === \"hardcoded_mockJWT\") {\n      return {\n        data: {\n          username: \"admin\",\n          password: \"password\"\n        }\n      };\n    }\n  } catch (e) {\n    // return null means there is no current user\n    return null;\n  }\n}\nexport async function loginWithJwt(jwt) {\n  localStorage.setItem(tokenKey, jwt);\n}\nexport default {\n  login,\n  logout,\n  getCurentUser,\n  loginWithJwt,\n  getJwt\n};","map":{"version":3,"sources":["/Users/paulbickell/Documents/React/react-dtt-demo-app/src/services/authService.js"],"names":["tokenKey","login","username","password","console","log","jwt","localStorage","setItem","data","logout","removeItem","getJwt","getItem","getCurentUser","e","loginWithJwt"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,OAAjB;AAEA,OAAO,eAAeC,KAAf,CAAqBC,QAArB,EAA+BC,QAA/B,EAAyC;AAChD;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ;;AACI,MAAIH,QAAQ,KAAK,OAAb,IAAwBC,QAAQ,KAAK,UAAzC,EAAqD;AACjD,UAAMG,GAAG,GAAG,mBAAZ;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqBR,QAArB,EAA+BM,GAA/B,EAFiD,CAGjD;;AACA,QAAIA,GAAG,KAAK,mBAAZ,EAAiC;AAC7B,aAAO;AAACG,QAAAA,IAAI,EAAE;AAAEP,UAAAA,QAAQ,EAAE,OAAZ;AAAqBC,UAAAA,QAAQ,EAAE;AAA/B;AAAP,OAAP;AACH;AACJ;;AAEDC,EAAAA,OAAO,CAACC,GAAR,CAAY,uCAAZ;AACAH,EAAAA,QAAQ,GAAG,EAAX;AACAC,EAAAA,QAAQ,GAAG,EAAX;AAEA,SAAO,IAAP;AACH;AAED,OAAO,SAASO,MAAT,GAAkB;AACvBH,EAAAA,YAAY,CAACI,UAAb,CAAwBX,QAAxB;AACD;AAED,OAAO,SAASY,MAAT,GAAkB;AACvB,SAAOL,YAAY,CAACM,OAAb,CAAqBb,QAArB,CAAP;AACD;AAED,OAAO,SAASc,aAAT,GAAyB;AAC5B,MAAI;AACA,UAAMR,GAAG,GAAGC,YAAY,CAACM,OAAb,CAAqBb,QAArB,CAAZ,CADA,CAGA;;AACA,QAAIM,GAAG,KAAK,mBAAZ,EAAiC;AAC7B,aAAO;AAACG,QAAAA,IAAI,EAAE;AAAEP,UAAAA,QAAQ,EAAE,OAAZ;AAAqBC,UAAAA,QAAQ,EAAE;AAA/B;AAAP,OAAP;AACH;AACJ,GAPD,CAOE,OAAOY,CAAP,EAAU;AACR;AACA,WAAO,IAAP;AACH;AACJ;AAED,OAAO,eAAeC,YAAf,CAA4BV,GAA5B,EAAiC;AACpCC,EAAAA,YAAY,CAACC,OAAb,CAAqBR,QAArB,EAA+BM,GAA/B;AACH;AAED,eAAe;AACbL,EAAAA,KADa;AAEbS,EAAAA,MAFa;AAGbI,EAAAA,aAHa;AAIbE,EAAAA,YAJa;AAKbJ,EAAAA;AALa,CAAf","sourcesContent":["const tokenKey = \"token\";\n\nexport async function login(username, password) {\n// hard coded here!!!     \nconsole.log(\"is the auth servicde called at all\");\n    if (username === \"admin\" && password === \"password\") {\n        const jwt = \"hardcoded_mockJWT\";\n        localStorage.setItem(tokenKey, jwt); \n        // fabricate this...!\n        if (jwt === \"hardcoded_mockJWT\") {\n            return {data: { username: \"admin\", password: \"password\"}};\n        }\n    }\n\n    console.log(\"resetting form as login has failed...\");\n    username = \"\";\n    password = \"\";\n\n    return null;\n}\n\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\n\nexport function getJwt() {\n  return localStorage.getItem(tokenKey);\n}\n\nexport function getCurentUser() {\n    try {\n        const jwt = localStorage.getItem(tokenKey);\n        \n        // fabricate this...!\n        if (jwt === \"hardcoded_mockJWT\") {\n            return {data: { username: \"admin\", password: \"password\"}};\n        }\n    } catch (e) {\n        // return null means there is no current user\n        return null;\n    }\n}\n\nexport async function loginWithJwt(jwt) {\n    localStorage.setItem(tokenKey, jwt);  \n}\n\nexport default {\n  login,\n  logout,\n  getCurentUser,\n  loginWithJwt,\n  getJwt\n};\n\n\n    \n    \n  "]},"metadata":{},"sourceType":"module"}