{"ast":null,"code":"var _jsxFileName = \"/Users/paulbickell/Documents/React/react-dtt-demo-app/src/components/search-metadata.jsx\";\nimport Form from \"../common/form\";\nimport React, { Component } from \"react\";\nimport Joi from \"joi\";\nimport { getMetadataLinks, getProductMetadata } from \"../services/queryService\";\n\nclass SearchMetadata extends Form {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {\n        param1: \"\",\n        searchTypeChoice: \"\"\n      },\n      errors: {},\n      srchMeta: {\n        output: \"\"\n      },\n      searchTypes: [\"General Search\", \"Specific Product Metadata\"]\n    };\n    this.schema = {\n      _id: Joi.string(),\n      param1: Joi.string().required(),\n      searchTypeChoice: Joi.string().required()\n    };\n\n    this.doReset = event => {\n      const param1 = this.state.data.param1;\n      console.log(\"reseting param1 value '\" + param1 + \"' ' to blank\");\n      this.setState({\n        data: {\n          param1: \"\"\n        },\n        srchMeta: {\n          output: \"\"\n        }\n      });\n    };\n\n    this.doSubmit = () => {\n      const _this$state$data = this.state.data,\n            param1 = _this$state$data.param1,\n            searchTypeChoice = _this$state$data.searchTypeChoice;\n\n      if (searchTypeChoice === \"General Search\") {\n        this.queryMetadataForProducts(param1);\n      } else if (searchTypeChoice === \"Specific Product Metadata\") {\n        this.queryProductMetadata(param1);\n      }\n    };\n  }\n\n  async queryMetadataForProducts(srchParam) {\n    console.log(\"query the XXX to get metadata links for products which match the input string: \" + srchParam);\n    const output = await getMetadataLinks(\"XXN-MXX1\");\n    this.setState({\n      srchMeta: {\n        output: output\n      }\n    });\n  }\n\n  async queryProductMetadata(metaLink) {\n    console.log(\"query the XXX to get the metadata for a particular product: \" + metaLink);\n    const output = await getProductMetadata(metaLink);\n    this.setState({\n      srchMeta: {\n        output: output\n      }\n    });\n  }\n\n  manageComboChange(comboId) {\n    if (comboId === \"searchTypeChoice\") {\n      console.log(\"combo has changed value...\" + comboId);\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          srchMeta = _this$state.srchMeta,\n          searchTypes = _this$state.searchTypes;\n    const srchTypeData = searchTypes.map(s => {\n      return {\n        _id: s,\n        name: s\n      };\n    });\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"main-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"page-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Search Product Metadata\")), React.createElement(\"div\", {\n      className: \"dataBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"sub-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Build Query\")), this.renderSelect(\"searchTypeChoice\", \"Search Type\", false, srchTypeData, \"900px\"), this.renderInput(\"param1\", \"Param1\", true, \"700px\"), React.createElement(\"div\", {\n      className: \"btn-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, this.renderButton(\"Search\", \"btn btn-primary m-2\"), React.createElement(\"button\", {\n      id: \"reset-btn\",\n      type: \"button\",\n      className: \"btn btn-warning m-2\",\n      onClick: this.doReset,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Reset\")))), React.createElement(\"div\", {\n      className: \"vertical-spacer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"output-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"sub-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Output\")), this.renderReadOnlyTextArea(\"data.output\", \"Output\", false, \"\", \"10\", srchMeta.output))));\n  }\n\n}\n\nexport default SearchMetadata;","map":{"version":3,"sources":["/Users/paulbickell/Documents/React/react-dtt-demo-app/src/components/search-metadata.jsx"],"names":["Form","React","Component","Joi","getMetadataLinks","getProductMetadata","SearchMetadata","state","data","param1","searchTypeChoice","errors","srchMeta","output","searchTypes","schema","_id","string","required","doReset","event","console","log","setState","doSubmit","queryMetadataForProducts","queryProductMetadata","srchParam","metaLink","manageComboChange","comboId","render","srchTypeData","map","s","name","handleSubmit","renderSelect","renderInput","renderButton","renderReadOnlyTextArea"],"mappings":";AAAA,OAAOA,IAAP,MAAiB,gBAAjB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,SAASC,gBAAT,EAA2BC,kBAA3B,QAAqD,0BAArD;;AAEA,MAAMC,cAAN,SAA6BN,IAA7B,CAAkC;AAAA;AAAA;AAAA,SAEhCO,KAFgC,GAExB;AACNC,MAAAA,IAAI,EAAE;AACJC,QAAAA,MAAM,EAAE,EADJ;AAEJC,QAAAA,gBAAgB,EAAE;AAFd,OADA;AAKNC,MAAAA,MAAM,EAAE,EALF;AAMNC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,MAAM,EAAE;AADA,OANJ;AASNC,MAAAA,WAAW,EAAE,CAAC,gBAAD,EAAmB,2BAAnB;AATP,KAFwB;AAAA,SAchCC,MAdgC,GAcvB;AACPC,MAAAA,GAAG,EAAEb,GAAG,CAACc,MAAJ,EADE;AAEPR,MAAAA,MAAM,EAAEN,GAAG,CAACc,MAAJ,GACLC,QADK,EAFD;AAIPR,MAAAA,gBAAgB,EAAEP,GAAG,CAACc,MAAJ,GACjBC,QADiB;AAJX,KAduB;;AAAA,SAkChCC,OAlCgC,GAkCrBC,KAAD,IAAW;AAAA,YACXX,MADW,GACA,KAAKF,KAAL,CAAWC,IADX,CACXC,MADW;AAEnBY,MAAAA,OAAO,CAACC,GAAR,CAAY,4BAA4Bb,MAA5B,GAAqC,cAAjD;AACA,WAAKc,QAAL,CAAc;AAAEf,QAAAA,IAAI,EAAE;AAACC,UAAAA,MAAM,EAAE;AAAT,SAAR;AAAsBG,QAAAA,QAAQ,EAAE;AAACC,UAAAA,MAAM,EAAE;AAAT;AAAhC,OAAd;AACD,KAtC+B;;AAAA,SAwChCW,QAxCgC,GAwCrB,MAAM;AAAA,+BACsB,KAAKjB,KAAL,CAAWC,IADjC;AAAA,YACPC,MADO,oBACPA,MADO;AAAA,YACCC,gBADD,oBACCA,gBADD;;AAEf,UAAIA,gBAAgB,KAAK,gBAAzB,EAA2C;AACzC,aAAKe,wBAAL,CAA8BhB,MAA9B;AACD,OAFD,MAEO,IAAIC,gBAAgB,KAAK,2BAAzB,EAAsD;AAC3D,aAAKgB,oBAAL,CAA0BjB,MAA1B;AACD;AACF,KA/C+B;AAAA;;AAsBjC,QAAMgB,wBAAN,CAA+BE,SAA/B,EAA0C;AACvCN,IAAAA,OAAO,CAACC,GAAR,CAAY,oFAAoFK,SAAhG;AACA,UAAMd,MAAM,GAAG,MAAMT,gBAAgB,CAAC,UAAD,CAArC;AACA,SAAKmB,QAAL,CAAc;AAACX,MAAAA,QAAQ,EAAE;AAACC,QAAAA,MAAM,EAAEA;AAAT;AAAX,KAAd;AACD;;AAED,QAAMa,oBAAN,CAA2BE,QAA3B,EAAqC;AACnCP,IAAAA,OAAO,CAACC,GAAR,CAAY,iEAAiEM,QAA7E;AACA,UAAMf,MAAM,GAAG,MAAMR,kBAAkB,CAACuB,QAAD,CAAvC;AACA,SAAKL,QAAL,CAAc;AAACX,MAAAA,QAAQ,EAAE;AAACC,QAAAA,MAAM,EAAEA;AAAT;AAAX,KAAd;AACD;;AAiBDgB,EAAAA,iBAAiB,CAACC,OAAD,EAAU;AACzB,QAAIA,OAAO,KAAK,kBAAhB,EAAoC;AAChCT,MAAAA,OAAO,CAACC,GAAR,CAAY,+BAA+BQ,OAA3C;AACH;AACF;;AAEDC,EAAAA,MAAM,GAAG;AAAA,wBAC2B,KAAKxB,KADhC;AAAA,UACCK,QADD,eACCA,QADD;AAAA,UACWE,WADX,eACWA,WADX;AAGP,UAAMkB,YAAY,GAAGlB,WAAW,CAACmB,GAAZ,CAAiBC,CAAD,IAAM;AACzC,aAAO;AAAElB,QAAAA,GAAG,EAAEkB,CAAP;AAAUC,QAAAA,IAAI,EAAED;AAAhB,OAAP;AACD,KAFoB,CAArB;AAIA,WACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,QAAQ,EAAE,KAAKE,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADF,CADF,EAKE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADH,CADH,EAII,KAAKC,YAAL,CAAkB,kBAAlB,EAAsC,aAAtC,EAAqD,KAArD,EAA4DL,YAA5D,EAA0E,OAA1E,CAJJ,EAKI,KAAKM,WAAL,CAAiB,QAAjB,EAA2B,QAA3B,EAAqC,IAArC,EAA2C,OAA3C,CALJ,EAOG;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,KAAKC,YAAL,CAAkB,QAAlB,EAA4B,qBAA5B,CADJ,EAEG;AAAQ,MAAA,EAAE,EAAC,WAAX;AAAuB,MAAA,IAAI,EAAC,QAA5B;AAAqC,MAAA,SAAS,EAAC,qBAA/C;AAAqE,MAAA,OAAO,EAAE,KAAKpB,OAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFH,CAPH,CALF,CADF,EAqBE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArBF,EAuBE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CADJ,EAIK,KAAKqB,sBAAL,CACC,aADD,EAEC,QAFD,EAGC,KAHD,EAIC,EAJD,EAKC,IALD,EAMC5B,QAAQ,CAACC,MANV,CAJL,CAvBF,CADJ,CADF;AA0CD;;AAxG+B;;AA2GlC,eAAeP,cAAf","sourcesContent":["import Form from \"../common/form\";\nimport React, { Component } from \"react\";\nimport Joi from \"joi\";\nimport { getMetadataLinks, getProductMetadata } from \"../services/queryService\";\n\nclass SearchMetadata extends Form {\n\n  state = {\n    data: {\n      param1: \"\",\n      searchTypeChoice: \"\"\n    },\n    errors: {},    \n    srchMeta: {\n      output: \"\"\n    },\n    searchTypes: [\"General Search\", \"Specific Product Metadata\"],\n  };\n\n  schema = {\n    _id: Joi.string(),\n    param1: Joi.string()\n      .required(),\n    searchTypeChoice: Joi.string()\n    .required()\n  };\n\n async queryMetadataForProducts(srchParam) {\n    console.log(\"query the XXX to get metadata links for products which match the input string: \" + srchParam);\n    const output = await getMetadataLinks(\"XXN-MXX1\");\n    this.setState({srchMeta: {output: output}});\n  }\n\n  async queryProductMetadata(metaLink) {\n    console.log(\"query the XXX to get the metadata for a particular product: \" + metaLink);\n    const output = await getProductMetadata(metaLink);\n    this.setState({srchMeta: {output: output}});\n  }\n\n  doReset = (event) => {\n    const { param1 } = this.state.data;\n    console.log(\"reseting param1 value '\" + param1 + \"' ' to blank\");\n    this.setState({ data: {param1: \"\"}, srchMeta: {output: \"\"}  });\n  };\n\n  doSubmit = () => {\n    const { param1, searchTypeChoice } = this.state.data;\n    if (searchTypeChoice === \"General Search\") {\n      this.queryMetadataForProducts(param1);  \n    } else if (searchTypeChoice === \"Specific Product Metadata\") {\n      this.queryProductMetadata(param1);   \n    }\n  };\n\n  manageComboChange(comboId) {\n    if (comboId === \"searchTypeChoice\") {\n        console.log(\"combo has changed value...\" + comboId);\n    }\n  }\n\n  render() {\n    const { srchMeta, searchTypes } = this.state;\n    \n    const srchTypeData = searchTypes.map((s)=> { \n      return { _id: s, name: s }; \n    }); \n\n    return (\n      <React.Fragment>\n          <div className=\"main-content\">\n            <form onSubmit={this.handleSubmit} >\n              <div className=\"page-title\">\n                <h1>Search Product Metadata</h1>\n              </div>\n\n              <div className=\"dataBox\">\n                 <div className=\"sub-title\">\n                    <h4>Build Query</h4>\n                 </div>\n                 {this.renderSelect(\"searchTypeChoice\", \"Search Type\", false, srchTypeData, \"900px\")}\n                 {this.renderInput(\"param1\", \"Param1\", true, \"700px\")}\n\n                 <div className=\"btn-group\">\n                    {this.renderButton(\"Search\", \"btn btn-primary m-2\")}\n                    <button id=\"reset-btn\" type=\"button\" className=\"btn btn-warning m-2\" onClick={this.doReset}>Reset</button>\n                 </div>\n                 \n              </div>\n            </form>\n\n            <div className=\"vertical-spacer\"></div> \n\n            <div className=\"output-box\">\n                <div className=\"sub-title\">\n                    <h4>Output</h4>\n                </div>\n                {this.renderReadOnlyTextArea(\n                  \"data.output\",\n                  \"Output\",\n                  false,\n                  \"\",\n                  \"10\",\n                  srchMeta.output\n                )}\n          </div>  \n        </div>  \n        \n      </React.Fragment>\n    );\n  }\n}\n\nexport default SearchMetadata;\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}