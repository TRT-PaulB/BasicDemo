{"ast":null,"code":"import _defineProperty from \"/Users/paulbickell/Documents/React/react-dtt-demo-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/paulbickell/Documents/React/react-dtt-demo-app/src/components/login.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport Joi from \"joi\";\nimport Form from \"../common/form\";\nimport auth from \"../services/authService\";\n\nclass LoginForm extends Form {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {\n        username: \"\",\n        password: \"\"\n      },\n      errors: {}\n    };\n    this.schema = {\n      username: Joi.string().required(),\n      password: Joi.string().required()\n    };\n\n    this.doSubmit = e => {\n      const state = this.props.location.state;\n      const _this$state$data = this.state.data,\n            username = _this$state$data.username,\n            password = _this$state$data.password;\n      const user = auth.login(username, password);\n\n      if (user === undefined) {\n        const errors = _objectSpread({}, this.state.errors);\n\n        errors.username = \"Check your credentials and try again\";\n        this.setState({\n          errors\n        });\n      } else {\n        window.location = state ? state.from.pathname : \"/search-metadata\";\n      }\n    };\n\n    this.doReset = event => {\n      this.setState({\n        data: {\n          username: \"\",\n          password: \"\"\n        }\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"main-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"page-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"Search Product Metadata\")), React.createElement(\"div\", {\n      className: \"external-data-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"sub-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Login\")), this.renderInput(\"username\", \"Username\", true, \"700px\"), this.renderInput(\"password\", \"Password\", true, \"700px\", \"password\"), React.createElement(\"div\", {\n      className: \"btn-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, this.renderButton(\"Login\", \"btn btn-primary m-2\"), React.createElement(\"button\", {\n      id: \"reset-btn\",\n      type: \"button\",\n      className: \"btn btn-warning m-2\",\n      onClick: this.doReset,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Reset\"))))));\n  }\n\n}\n\nexport default LoginForm;","map":{"version":3,"sources":["/Users/paulbickell/Documents/React/react-dtt-demo-app/src/components/login.jsx"],"names":["React","Joi","Form","auth","LoginForm","state","data","username","password","errors","schema","string","required","doSubmit","e","props","location","user","login","undefined","setState","window","from","pathname","doReset","event","render","handleSubmit","renderInput","renderButton"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Joi from \"joi\";\nimport Form from \"../common/form\";\nimport auth from \"../services/authService\";\n\nclass LoginForm extends Form {\n  state = {\n    data: { username: \"\", password: \"\" },\n    errors: {}\n  };\n\n  schema = {\n    username: Joi.string()\n      .required(),\n    password: Joi.string()\n      .required()\n  };\n\n  doSubmit = e => {\n      const { state } = this.props.location;\n      const { username, password } = this.state.data;\n      const user = auth.login(username, password);\n\n      if (user === undefined) {\n        const errors = { ...this.state.errors };\n        errors.username = \"Check your credentials and try again\"; \n        this.setState({ errors });\n      } else {\n        window.location = state ? state.from.pathname : \"/search-metadata\";  \n      }\n  };\n\n  doReset = (event) => {\n    this.setState({ data: {username: \"\", password: \"\"}});\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n          <div className=\"main-content\">\n            <form onSubmit={this.handleSubmit} >\n              <div className=\"page-title\">\n                <h1>Search Product Metadata</h1>\n              </div>\n              <div className=\"external-data-box\">\n                <div className=\"sub-title\">\n                    <h4>Login</h4>\n                </div>\n                {this.renderInput(\"username\", \"Username\", true, \"700px\")}\n                {this.renderInput(\"password\", \"Password\", true, \"700px\", \"password\")}\n                <div className=\"btn-group\">\n                    {this.renderButton(\"Login\", \"btn btn-primary m-2\")}\n                    <button id=\"reset-btn\" type=\"button\" className=\"btn btn-warning m-2\" onClick={this.doReset}>Reset</button>\n                </div>\n              </div>\n            </form>  \n          </div>  \n      </React.Fragment>\n    );\n  }\n}\n\nexport default LoginForm;\n\n"]},"metadata":{},"sourceType":"module"}